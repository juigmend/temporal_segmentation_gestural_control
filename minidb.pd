#N canvas 0 22 737 805 12;
#X obj 4 259 select s;
#X obj 4 109 symbol;
#X obj 121 39 r \$0-tf_in;
#X obj 57 349 s \$0-tf_in;
#X obj 450 39 symbol;
#X obj 559 268 s \$0-tf_in;
#X msg 450 69 set \$1;
#X obj 503 198 cyclone/gate 2;
#X msg 614 228 write \$1;
#X msg 530 69 1;
#X obj 530 109 r \$0-writefile;
#X msg 530 139 2;
#X obj 598 168 r \$0-db_fn;
#X obj 450 358 s \$0-db_fn;
#X obj 450 328 symbol;
#X msg 489 228 read \$1 \, rewind;
#X obj 530 39 r \$0-readfile;
#X obj 470 169 t b a;
#X obj 4 139 s2l :;
#X obj 4 169 unpack s f;
#X obj 4 629 f;
#X obj 121 69 msgfile;
#X obj 57 289 spigot;
#X msg 113 419 0;
#X obj 113 449 s \$0-find;
#X obj 199 479 sel 1;
#X obj 199 449 i;
#X obj 167 379 t b b;
#X obj 96 259 r \$0-find;
#X obj 57 319 bang;
#X obj 217 359 s \$0-tf_in;
#X obj 277 239 s \$0-readfile;
#X msg 237 299 1;
#X obj 237 329 s \$0-find;
#X obj 217 109 symbol;
#X obj 217 209 t b a a b;
#X obj 217 39 route search update;
#X obj 326 169 s \$0-ud;
#X msg 282 109 0;
#X msg 326 109 1;
#X obj 217 419 r \$0-find;
#X obj 104 659 cyclone/gate 2;
#X obj 97 479 r \$0-ud;
#X obj 104 629 + 1;
#X obj 104 739 outlet;
#X obj 217 9 inlet;
#X obj 450 9 inlet;
#X text 288 450 INLET 1:;
#X text 308 470 A message composed by a command \, a string and a number.
;
#X text 308 530 commands:;
#X text 348 570 look for the string \, no need to add the number;
#X text 328 550 search:;
#X text 348 650 add a line with the string and a number;
#X text 288 700 INLET 2:;
#X text 288 390 DESCRIPTION:;
#X text 308 720 The path and filename with extension \, of the textfile.
;
#X text 308 410 Search for and add formatted lines to a textfile.;
#X text 348 670 replacing any existing line with the string;
#X text 328 630 update:;
#X text 348 610 otherwise the output is a bang;
#X text 367 756 Juan Ignacio Mendoza Garay - 2022;
#X text 348 590 if the string exists \, then the output is the number
;
#X obj 217 139 s2l :;
#X obj 257 269 s \$0-str;
#X obj 57 229 r \$0-str;
#X obj 217 69 t a b;
#X obj 282 69 trigger a b a;
#X obj 370 139 s \$0-line;
#X obj 370 109 symbol;
#X obj 217 169 unpack s;
#X obj 71 199 s \$0-num;
#X obj 22 599 r \$0-num;
#X obj 58 509 spigot;
#X obj 4 379 t bang bang bang;
#N canvas 786 234 455 243 update 0;
#X obj 12 14 inlet;
#X obj 12 194 s \$0-writefile;
#X msg 68 44 set \$1;
#X obj 44 104 symbol;
#X obj 44 164 s \$0-tf_in;
#X obj 68 14 r \$0-line;
#X obj 12 44 t b b;
#X msg 44 134 replace \$1;
#X msg 44 74;
#X connect 0 0 6 0;
#X connect 2 0 8 0;
#X connect 3 0 7 0;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X connect 6 1 8 0;
#X connect 7 0 4 0;
#X connect 8 0 3 0;
#X restore 199 699 pd update;
#X msg 58 537 skip -1;
#X obj 58 567 s \$0-tf_in;
#X text 306 509 The string and number are separated by a colon.;
#X text 306 489 The command and string are separated by a space.;
#X obj 104 599 r \$0-ud;
#X obj 4 659 s \$0-result;
#X obj 199 509 s \$0-result;
#X obj 199 629 r \$0-result;
#X msg 450 298;
#X connect 0 0 73 0;
#X connect 0 1 22 0;
#X connect 1 0 18 0;
#X connect 2 0 21 0;
#X connect 4 0 6 0;
#X connect 6 0 83 0;
#X connect 7 0 15 0;
#X connect 7 1 8 0;
#X connect 8 0 5 0;
#X connect 9 0 17 0;
#X connect 10 0 11 0;
#X connect 11 0 17 0;
#X connect 12 0 7 1;
#X connect 14 0 13 0;
#X connect 15 0 5 0;
#X connect 16 0 9 0;
#X connect 17 0 83 0;
#X connect 17 1 7 0;
#X connect 18 0 19 0;
#X connect 19 0 0 0;
#X connect 19 1 70 0;
#X connect 20 0 80 0;
#X connect 21 0 1 0;
#X connect 21 1 27 0;
#X connect 22 0 29 0;
#X connect 23 0 24 0;
#X connect 25 0 81 0;
#X connect 26 0 25 0;
#X connect 27 0 23 0;
#X connect 27 1 26 0;
#X connect 28 0 22 1;
#X connect 29 0 3 0;
#X connect 32 0 33 0;
#X connect 34 0 62 0;
#X connect 35 0 30 0;
#X connect 35 1 32 0;
#X connect 35 2 63 0;
#X connect 35 3 31 0;
#X connect 36 0 65 0;
#X connect 36 1 66 0;
#X connect 38 0 37 0;
#X connect 39 0 37 0;
#X connect 40 0 26 1;
#X connect 41 0 44 0;
#X connect 41 1 74 0;
#X connect 42 0 72 1;
#X connect 43 0 41 0;
#X connect 45 0 36 0;
#X connect 46 0 4 0;
#X connect 62 0 69 0;
#X connect 64 0 0 1;
#X connect 65 0 34 0;
#X connect 65 1 38 0;
#X connect 66 0 34 0;
#X connect 66 1 39 0;
#X connect 66 2 68 0;
#X connect 68 0 67 0;
#X connect 69 0 35 0;
#X connect 71 0 20 1;
#X connect 72 0 75 0;
#X connect 73 0 20 0;
#X connect 73 1 72 0;
#X connect 73 2 23 0;
#X connect 75 0 76 0;
#X connect 79 0 43 0;
#X connect 82 0 41 1;
#X connect 83 0 14 0;
